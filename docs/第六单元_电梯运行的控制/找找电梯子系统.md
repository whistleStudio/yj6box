# 《找找电梯子系统》

[[toc]]
<br><br>

## 📒 学习指南

<br>
<object data="/tutorial/starbox_yj/pdf/第20课找找电梯子系统.pdf" type="application/pdf" width=1200 height=800 name="找找电梯子系统">
当前浏览器不支持在线预览PDF
</object>

<br>
<br>

## 📐 实验设计 - 简易电梯系统设计

利用创趣星盒的硬件资源，编程实现一个简易电梯系统的设计，包含若干子系统，用自制积木独立封装。

- 了解电梯系统中包含的主要子系统。

- 熟练绘制控制系统工作过程示意图。

- 熟练描述控制系统中各模块状态的真值。

<br><br>

## 🧰 实验器材

创趣星盒板载LED灯、按键、显示屏和无源蜂鸣器，外接的烟雾检测传感器（P1）。

<br><br>

## 🌰 实验案例

### 简易电梯系统设计

烟雾检测传感器读取环境空气状况，烟雾浓度超标时发出警报；上下按键控制电梯上下运行（文字演示）,搭配指示灯标记运行状态。

<a href="/tutorial/starbox_yj/sb3/06/简易电梯系统设计.sb3">点击下载程序: 简易电梯系统设计.sb3</a>

<a href="https://www.cfunworld.com" target="_blank">点击查看演示视频</a>

① 烟雾检测传感器返回值为模拟值，范围0-1023

② **电梯上下行运行逻辑**

- 电梯模式-0： 电梯静止于2F；指示灯均熄灭；此时按下下键，电梯准备下行；

- 电梯模式-1： 电梯下行中；红色指示灯点亮；直至到达1F(用等待3秒表示)；

- 电梯模式-2： 电梯静止于1F; 指示灯均熄灭；此时按下上键，电梯准备上行；

- 电梯模式-3： 电梯上行中；绿色指示灯点亮；直至到达2F(用等待3秒表示)

<img src="/images/06/简易电梯系统设计1.png">

<img src="/images/06/简易电梯系统设计2.png">

<img src="/images/06/简易电梯系统设计3.png">

<br>
<br>

### 【拓展】电梯演示动画

在原有电梯上下行子系统的基础上加上演示动画。

<a href="/tutorial/starbox_yj/sb3/06/电梯演示动画.sb3">点击下载程序: 电梯演示动画.sb3</a>

<a href="https://www.cfunworld.com" target="_blank">点击查看演示视频</a>

① 绘制初始电梯图形，楼层2F；

<img src="/images/06/电梯演示动画1.png">

② 下行过程中，电梯上顶点坐标位移直至: 屏幕高度(240)-电梯高度(50);

③ 下行步长为正数，上行为负数；

④ 重绘前先用背景底色覆盖原有图形

<img src="/images/06/电梯演示动画2.png">

⑤ 上行过程中，电梯上顶点坐标位移直至0

<img src="/images/06/电梯演示动画3.png">








